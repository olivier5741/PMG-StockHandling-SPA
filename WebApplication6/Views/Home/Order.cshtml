
@{
    ViewBag.Title = "Command";
}

<h2>Commande</h2>

<div>
    <h2>Tous les produits de votre commande</h2>

    <ul data-bind="foreach: productsToOrder">
        <li>
            <span data-bind="text: name"></span>
            <input data-bind="value: quantity" type="number" name="quantity" min="0" max="100"/>
            <select data-bind="options: $root.availableUnits, optionsText: 'unit', optionsValue: 'id', value: unit"></select>                
        </li>
    </ul>

</div>

<style type="text/css">
    ul li span {
        width: 70px;
        display: inline-block;
    }

    ul li input {
        width: 50px;
    }

    ul li select {
        width: 80px;
    }

    ul li {
        margin-bottom: 5px;
    }
</style>

<script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-2.0.3.min.js"></script>
<script src='http://cdnjs.cloudflare.com/ajax/libs/knockout/3.1.0/knockout-min.js'></script>

<script>

    function OrderProduct(name, quantity, unit) {
        var self = this;
        self.name = ko.observable(name);
        self.quantity = ko.observable(quantity);
        self.unit = ko.observable(unit);
    }

    function OrderViewModel() {
        var self = this;

        self.availableUnits = [{id:"1", unit: "boîte(s)" }, {id:"2", unit: "unité(s)"}]

        self.productsToOrder = ko.observableArray([
            new OrderProduct("Citron", 10, "1"),
            new OrderProduct("Orange", 27, "2"),
            new OrderProduct("Cerise", 8, "1")
        ]);
    }

    ko.applyBindings(new OrderViewModel);

</script>



